{"id":"parade-059","title":"Reproducible HPC execution bundle (renv/Apptainer) (deferred)","description":"Deferred: add a reproducible execution bundle for SLURM jobs (e.g., renv lockfile integration and/or Apptainer/Singularity support) so compute jobs run in a guaranteed environment.","acceptance_criteria":"- Can generate/validate an execution bundle for a project\n- SLURM jobs can opt into running inside the bundle (renv or container)","status":"open","priority":3,"issue_type":"task","owner":"brad.buchsbaum@gmail.com","created_at":"2026-02-02T18:51:12.291464-05:00","created_by":"bbuchsbaum","updated_at":"2026-02-02T18:51:12.291464-05:00","defer_until":"2026-03-02T18:51:12-05:00"}
{"id":"parade-0rv","title":"Fix guard_packages donttest example","description":"guard_packages() example must not assume ggplot2 is installed; use Imports packages only.","status":"closed","priority":2,"issue_type":"bug","owner":"brad.buchsbaum@gmail.com","created_at":"2026-02-03T09:03:19.357579-05:00","created_by":"bbuchsbaum","updated_at":"2026-02-03T09:03:31.745326-05:00","closed_at":"2026-02-03T09:03:31.745326-05:00","close_reason":"Update example to use dplyr+tibble so --run-donttest passes without extra Suggests."}
{"id":"parade-1n5","title":"Allow config injection (avoid hard dependency on options() + file I/O in tests)","description":"Config helpers read from disk and getOption(); add an explicit injection hook (e.g., option-based override) to make behavior testable without filesystem/environment coupling.","acceptance_criteria":"- parade_config_read() returns option override when set\\n- Tests can set override to avoid file I/O\\n- Default behavior unchanged","status":"closed","priority":2,"issue_type":"feature","owner":"brad.buchsbaum@gmail.com","created_at":"2026-02-02T08:10:48.863417-05:00","created_by":"bbuchsbaum","updated_at":"2026-02-02T09:35:46.705026-05:00","closed_at":"2026-02-02T09:35:46.705026-05:00","close_reason":"Fixed/validated as part of 2026-02 audit follow-up","labels":["config","testability"],"dependencies":[{"issue_id":"parade-1n5","depends_on_id":"parade-jvp","type":"parent-child","created_at":"2026-02-02T08:37:34.217957-05:00","created_by":"bbuchsbaum"}]}
{"id":"parade-1s8","title":"CI: avoid pak/RSPM hangs on ubuntu devel","description":"ubuntu devel jobs can stall in setup-r-dependencies; use source installs via remotes and disable public RSPM for devel.","status":"closed","priority":2,"issue_type":"chore","owner":"brad.buchsbaum@gmail.com","created_at":"2026-02-03T09:24:12.544444-05:00","created_by":"bbuchsbaum","updated_at":"2026-02-03T09:24:23.999566-05:00","closed_at":"2026-02-03T09:24:23.999566-05:00","close_reason":"Disable use-public-rspm for devel and install deps via remotes for ubuntu devel matrix entry."}
{"id":"parade-2fh","title":"Docs/tests: wire wow features into vignettes and expand coverage","description":"Update key vignettes to use parade_init_hpc()/parade_dashboard()/artifact_catalog and add a bit more test coverage for dashboard actions and catalog search.","acceptance_criteria":"- Vignettes reference new helpers where appropriate\n- Tests cover dashboard actions and catalog search\n- devtools::test() passes","status":"closed","priority":2,"issue_type":"task","owner":"brad.buchsbaum@gmail.com","created_at":"2026-02-02T18:52:48.384743-05:00","created_by":"bbuchsbaum","updated_at":"2026-02-02T18:55:26.223362-05:00","closed_at":"2026-02-02T18:55:26.223362-05:00","close_reason":"Updated vignettes to use parade_init_hpc/parade_dashboard/artifact_catalog and expanded tests; devtools::test() passes."}
{"id":"parade-3ci","title":"CI: avoid albersdown dependency in check workflow","description":"setup-r-dependencies tries to resolve website theme dependency (albersdown) during R-CMD-check, causing pak lockfile creation to fail. Remove Config/Needs/website from DESCRIPTION; keep website install in pkgdown workflow.","status":"closed","priority":1,"issue_type":"bug","owner":"brad.buchsbaum@gmail.com","created_at":"2026-02-02T22:04:55.884712-05:00","created_by":"bbuchsbaum","updated_at":"2026-02-03T08:03:49.92346-05:00","closed_at":"2026-02-03T08:03:49.92346-05:00","close_reason":"Removed non-CRAN website deps (albersdown) from DESCRIPTION and vignettes; CI dependency lockfile no longer requires it.","labels":["ci","deps"]}
{"id":"parade-3le","title":"Harden SLURM template interpolation against injection","description":"Unescaped interpolation in SLURM/batchtools templates can allow newline/script injection via job name, exports, modules, and resource fields.","acceptance_criteria":"- Template generation rejects/escapes newlines and other unsafe characters in interpolated fields\\n- Job names used in templates are sanitized\\n- Tests cover unsafe inputs","status":"closed","priority":0,"issue_type":"bug","owner":"brad.buchsbaum@gmail.com","created_at":"2026-02-02T07:59:21.808789-05:00","created_by":"bbuchsbaum","updated_at":"2026-02-02T09:35:46.695087-05:00","closed_at":"2026-02-02T09:35:46.695087-05:00","close_reason":"Fixed/validated as part of 2026-02 audit follow-up","labels":["security","slurm"],"dependencies":[{"issue_id":"parade-3le","depends_on_id":"parade-jvp","type":"parent-child","created_at":"2026-02-02T08:37:33.332097-05:00","created_by":"bbuchsbaum"}]}
{"id":"parade-51z","title":"Wow: HPC init + run dashboard + artifact catalog","description":"Add (1) one-command HPC onboarding, (2) a unified run dashboard (mission control), and (3) an artifact catalog/provenance layer. Defer reproducible execution bundle.","acceptance_criteria":"- parade_init_hpc() provides a one-command setup + self-check\n- parade_dashboard() gives a single cohesive monitor view + quick actions\n- Artifact catalog functions list/search artifacts with provenance and links to logs\n- Test coverage and vignette updates included","status":"closed","priority":1,"issue_type":"epic","owner":"brad.buchsbaum@gmail.com","created_at":"2026-02-02T18:23:32.8778-05:00","created_by":"bbuchsbaum","updated_at":"2026-02-02T18:50:08.262085-05:00","closed_at":"2026-02-02T18:50:08.262085-05:00","close_reason":"Delivered 3 wow features (HPC init, dashboard, artifact catalog); reproducible bundle deferred."}
{"id":"parade-51z.1","title":"Add parade_init_hpc() + optional persisted config","description":"Provide one-command HPC setup: chooses safe shared scratch roots, initializes paths, scaffolds batch template, sets SLURM defaults optionally persisted, and runs doctor checks.","acceptance_criteria":"- parade_init_hpc() sets paths (profile=hpc) and validates\n- Can create dirs and optionally persist config/defaults\n- Clear messaging and safe defaults (avoid SLURM_TMPDIR for registry/artifacts)","status":"closed","priority":1,"issue_type":"task","owner":"brad.buchsbaum@gmail.com","created_at":"2026-02-02T18:23:38.221319-05:00","created_by":"bbuchsbaum","updated_at":"2026-02-02T18:49:51.727878-05:00","closed_at":"2026-02-02T18:49:51.727878-05:00","close_reason":"Implemented parade_init_hpc(): persists paths, scaffolds SLURM template, runs doctor checks.","dependencies":[{"issue_id":"parade-51z.1","depends_on_id":"parade-51z","type":"parent-child","created_at":"2026-02-02T18:23:38.222464-05:00","created_by":"bbuchsbaum"}]}
{"id":"parade-51z.2","title":"Add parade_dashboard(): unified mission-control view","description":"Add a single dashboard function that summarizes jobset status, recent errors, resource usage/log tails (when available), and offers quick actions like cancel/retry/collect.","acceptance_criteria":"- parade_dashboard() works for local + slurm jobsets\n- Shows status summary + key paths + last error/log tail hints\n- No hard dependency on SLURM binaries; degrades gracefully","status":"closed","priority":1,"issue_type":"task","owner":"brad.buchsbaum@gmail.com","created_at":"2026-02-02T18:23:40.848596-05:00","created_by":"bbuchsbaum","updated_at":"2026-02-02T18:49:55.014871-05:00","closed_at":"2026-02-02T18:49:55.014871-05:00","close_reason":"Added parade_dashboard(): unified summary with quick actions and optional artifact panel.","dependencies":[{"issue_id":"parade-51z.2","depends_on_id":"parade-51z","type":"parent-child","created_at":"2026-02-02T18:23:40.849875-05:00","created_by":"bbuchsbaum"}]}
{"id":"parade-51z.3","title":"Add artifact catalog + provenance API","description":"Provide functions to list/search artifacts produced by parade sinks, including stage/row provenance, hashes/sizes, and associated logs when available.","acceptance_criteria":"- artifact_catalog_list()/artifact_catalog_search() (names TBD) return tibbles\n- Includes provenance columns (stage, row_key, created_at) when available\n- Works on existing sink metadata without requiring SLURM","status":"closed","priority":1,"issue_type":"task","owner":"brad.buchsbaum@gmail.com","created_at":"2026-02-02T18:23:43.150485-05:00","created_by":"bbuchsbaum","updated_at":"2026-02-02T18:49:58.415237-05:00","closed_at":"2026-02-02T18:49:58.415237-05:00","close_reason":"Added artifact_catalog() + artifact_catalog_search(); enriched sink sidecars with stage/field/row_key metadata.","dependencies":[{"issue_id":"parade-51z.3","depends_on_id":"parade-51z","type":"parent-child","created_at":"2026-02-02T18:23:43.15124-05:00","created_by":"bbuchsbaum"}]}
{"id":"parade-51z.4","title":"Docs/tests for wow features","description":"Update vignettes/README and add testthat coverage for parade_init_hpc(), dashboard summary, and artifact catalog parsing.","acceptance_criteria":"- New vignette section for parade_init_hpc()\n- Tests cover catalog extraction and dashboard summary formatting","status":"closed","priority":2,"issue_type":"task","owner":"brad.buchsbaum@gmail.com","created_at":"2026-02-02T18:23:45.094055-05:00","created_by":"bbuchsbaum","updated_at":"2026-02-02T18:50:02.607804-05:00","closed_at":"2026-02-02T18:50:02.607804-05:00","close_reason":"Updated README + parade-paths vignette; added testthat coverage for init/dashboard/catalog.","dependencies":[{"issue_id":"parade-51z.4","depends_on_id":"parade-51z","type":"parent-child","created_at":"2026-02-02T18:23:45.095023-05:00","created_by":"bbuchsbaum"}]}
{"id":"parade-63h","title":"CI: remove invalid Windows paths committed to repo","description":"Windows CI fails at actions/checkout because the repository contains tracked files with ':' in their paths (e.g. 'tests/testthat/registry:/...' and 'parade.Rcheck/...'). These are invalid on Windows and must not be committed. Remove the directories from git, add ignores, and ensure tests do not generate colon paths.","acceptance_criteria":"- No tracked files contain ':' in their path\\n- .gitignore ignores '*.Rcheck/' and any generated check artifacts\\n- R-CMD-check Windows job can clone and run","status":"closed","priority":0,"issue_type":"bug","owner":"brad.buchsbaum@gmail.com","created_at":"2026-02-02T21:31:49.519284-05:00","created_by":"bbuchsbaum","updated_at":"2026-02-03T08:03:39.421938-05:00","closed_at":"2026-02-03T08:03:39.421938-05:00","close_reason":"Removed colon-named tests dir 'tests/testthat/registry:' and ignored it; repo now has no tracked ':' paths.","labels":["ci","repo-hygiene","windows"]}
{"id":"parade-6ai","title":"Fix R CMD check examples for retry/profile_register","description":"R CMD check (including --run-donttest) must run examples without relying on pre-existing objects or registry state.","status":"closed","priority":2,"issue_type":"bug","owner":"brad.buchsbaum@gmail.com","created_at":"2026-02-03T08:32:28.576179-05:00","created_by":"bbuchsbaum","updated_at":"2026-02-03T08:32:38.450783-05:00","closed_at":"2026-02-03T08:32:38.450783-05:00","close_reason":"Made donttest examples idempotent: profile_register uses overwrite=TRUE; retry example is self-contained local repro."}
{"id":"parade-8e9","title":"CI: ubuntu devel needs libcurl dev headers","description":"Ubuntu devel source builds require system libs; install libcurl4-openssl-dev and libssl-dev before installing R deps.","status":"closed","priority":2,"issue_type":"chore","owner":"brad.buchsbaum@gmail.com","created_at":"2026-02-03T09:38:52.007642-05:00","created_by":"bbuchsbaum","updated_at":"2026-02-03T09:39:04.480047-05:00","closed_at":"2026-02-03T09:39:04.480047-05:00","close_reason":"Add apt-get install for libcurl4-openssl-dev + libssl-dev in ubuntu devel workflow."}
{"id":"parade-9hi","title":"HPC onboarding + paths ergonomics","description":"Improve paths_init() ergonomics and reduce HPC footguns (node-local scratch, empty envs), add validation/doctoring and a setup helper.","status":"closed","priority":1,"issue_type":"epic","owner":"brad.buchsbaum@gmail.com","created_at":"2026-02-02T17:53:34.634266-05:00","created_by":"bbuchsbaum","updated_at":"2026-02-02T18:05:53.178062-05:00","closed_at":"2026-02-02T18:05:53.178062-05:00","close_reason":"Completed HPC onboarding + paths_init ergonomics improvements."}
{"id":"parade-9hi.1","title":"paths_init(): implement real profile semantics (auto/local/hpc)","description":"Make  actually affect defaults, including better project-root detection under SLURM/PBS.","acceptance_criteria":"-  selects shared scratch by default and respects scheduler submit dir\\n-  keeps current laptop-ish defaults\\n-  switches to hpc when scheduler env detected","status":"closed","priority":1,"issue_type":"task","owner":"brad.buchsbaum@gmail.com","created_at":"2026-02-02T17:55:55.952682-05:00","created_by":"bbuchsbaum","updated_at":"2026-02-02T18:05:45.907406-05:00","closed_at":"2026-02-02T18:05:45.907406-05:00","close_reason":"Implemented auto/local/hpc profile behavior and improved project/scratch defaults.","dependencies":[{"issue_id":"parade-9hi.1","depends_on_id":"parade-9hi","type":"parent-child","created_at":"2026-02-02T17:55:55.953799-05:00","created_by":"bbuchsbaum"}]}
{"id":"parade-9hi.2","title":"Update docs to match paths_init() HPC behavior","description":"Fix README + parade-paths vignette claims about /scratch vs SLURM_TMPDIR; document  and recommended env vars.","acceptance_criteria":"- README and vignette examples align with actual defaults\\n- Mention  and when to avoid node-local tmp","status":"closed","priority":2,"issue_type":"task","owner":"brad.buchsbaum@gmail.com","created_at":"2026-02-02T17:56:01.975016-05:00","created_by":"bbuchsbaum","updated_at":"2026-02-02T18:05:47.095551-05:00","closed_at":"2026-02-02T18:05:47.095551-05:00","close_reason":"Updated README and parade-paths vignette to match new scratch/SLURM behavior and profile guidance.","dependencies":[{"issue_id":"parade-9hi.2","depends_on_id":"parade-9hi","type":"parent-child","created_at":"2026-02-02T17:56:01.980562-05:00","created_by":"bbuchsbaum"}]}
{"id":"parade-9hi.3","title":"Add testthat coverage for paths_init()/paths_validate()","description":"Unit tests for profile selection, env precedence, empty env behavior, and validation output.","acceptance_criteria":"- New tests cover hpc vs local profile behavior\\n- Tests cover empty env vars treated as unset","status":"closed","priority":1,"issue_type":"task","owner":"brad.buchsbaum@gmail.com","created_at":"2026-02-02T17:56:02.371151-05:00","created_by":"bbuchsbaum","updated_at":"2026-02-02T18:05:48.405952-05:00","closed_at":"2026-02-02T18:05:48.405952-05:00","close_reason":"Added/updated testthat coverage for profile/env precedence, paths_validate, and parade_doctor.","dependencies":[{"issue_id":"parade-9hi.3","depends_on_id":"parade-9hi","type":"parent-child","created_at":"2026-02-02T17:56:02.373316-05:00","created_by":"bbuchsbaum"}]}
{"id":"parade-9hi.4","title":"paths_init: treat empty PARADE_* env vars as unset","description":"Avoid empty-string env values poisoning path roots; apply consistently across paths_init() and helpers.","acceptance_criteria":"- Setting PARADE_SCRATCH=\"\" behaves like unset\n- paths_init() never leaves core roots as \"\" or relative paths by accident","status":"closed","priority":1,"issue_type":"task","owner":"brad.buchsbaum@gmail.com","created_at":"2026-02-02T17:56:16.947999-05:00","created_by":"bbuchsbaum","updated_at":"2026-02-02T18:05:46.166015-05:00","closed_at":"2026-02-02T18:05:46.166015-05:00","close_reason":"Empty PARADE_* env vars now treated as unset; roots normalized and validated.","dependencies":[{"issue_id":"parade-9hi.4","depends_on_id":"parade-9hi","type":"parent-child","created_at":"2026-02-02T17:56:16.950659-05:00","created_by":"bbuchsbaum"}]}
{"id":"parade-9hi.5","title":"Add paths_validate() and parade_doctor() for onboarding","description":"Provide a validator that checks existence/writability and warns about node-local scratch for registry/artifacts under SLURM; include actionable guidance.","acceptance_criteria":"- paths_validate(create = FALSE) returns a structured result\n- parade_doctor() prints human-friendly checks and recommendations","status":"closed","priority":1,"issue_type":"task","owner":"brad.buchsbaum@gmail.com","created_at":"2026-02-02T17:56:21.111302-05:00","created_by":"bbuchsbaum","updated_at":"2026-02-02T18:05:46.736199-05:00","closed_at":"2026-02-02T18:05:46.736199-05:00","close_reason":"Added paths_validate() and parade_doctor() to validate/create paths and provide HPC recommendations.","dependencies":[{"issue_id":"parade-9hi.5","depends_on_id":"parade-9hi","type":"parent-child","created_at":"2026-02-02T17:56:21.113205-05:00","created_by":"bbuchsbaum"}]}
{"id":"parade-a7t","title":"paths_init: treat shared scratch env vars as HPC hint","description":"Improve \"auto\" profile selection on login nodes by treating SCRATCH/SCRATCHDIR/PSCRATCH/WORK as an HPC hint (while avoiding tempdir false positives).","acceptance_criteria":"- paths_init(profile='auto') selects 'hpc' when shared scratch vars are set\\n- Unit tests cover hint behavior","status":"closed","priority":1,"issue_type":"task","owner":"brad.buchsbaum@gmail.com","created_at":"2026-02-03T08:02:43.95841-05:00","created_by":"bbuchsbaum","updated_at":"2026-02-03T08:03:17.976023-05:00","closed_at":"2026-02-03T08:03:17.976023-05:00","close_reason":"Implemented .is_hpc_hint_env() + tests (paths_init auto picks hpc when SCRATCH/WORK set).","labels":["ergonomics","hpc","paths"]}
{"id":"parade-c6m","title":"paths_init: add create=TRUE to materialize roots","description":"Add a create=TRUE option to paths_init() to create configured alias roots (except project) for smoother first-run setup.","acceptance_criteria":"- paths_init(create=TRUE) creates data/artifacts/registry/config roots\\n- Unit tests cover directory creation","status":"closed","priority":1,"issue_type":"task","owner":"brad.buchsbaum@gmail.com","created_at":"2026-02-03T08:02:56.331164-05:00","created_by":"bbuchsbaum","updated_at":"2026-02-03T08:03:23.223288-05:00","closed_at":"2026-02-03T08:03:23.223288-05:00","close_reason":"Implemented paths_init(create=TRUE) + tests.","labels":["ergonomics","hpc","paths"]}
{"id":"parade-eh7","title":"Fix O(n^2) list growth in wave/concurrency submission","description":"apply_waves() and apply_concurrency_limit() grow lists with repeated c(list, list(x)), causing quadratic behavior.","acceptance_criteria":"- Preallocate result lists and fill by index\\n- No behavior change\\n- Tests remain passing","status":"closed","priority":1,"issue_type":"bug","owner":"brad.buchsbaum@gmail.com","created_at":"2026-02-02T07:59:29.107005-05:00","created_by":"bbuchsbaum","updated_at":"2026-02-02T09:35:46.701315-05:00","closed_at":"2026-02-02T09:35:46.701315-05:00","close_reason":"Fixed/validated as part of 2026-02 audit follow-up","labels":["performance"],"dependencies":[{"issue_id":"parade-eh7","depends_on_id":"parade-jvp","type":"parent-child","created_at":"2026-02-02T08:37:33.82718-05:00","created_by":"bbuchsbaum"}]}
{"id":"parade-eoc","title":"Sanitize and normalize job names","description":"Job names derived from .name_by or submit_slurm(name=) can contain path separators/newlines/spaces; this can break local temp dirs and leak into templates.","acceptance_criteria":"- Job name sanitizer applied in slurm_map/slurm_call/submit_slurm/local scripts\\n- Length and allowed character set enforced\\n- Tests verify sanitizer","status":"closed","priority":1,"issue_type":"bug","owner":"brad.buchsbaum@gmail.com","created_at":"2026-02-02T07:59:22.086575-05:00","created_by":"bbuchsbaum","updated_at":"2026-02-02T09:35:46.702467-05:00","closed_at":"2026-02-02T09:35:46.702467-05:00","close_reason":"Fixed/validated as part of 2026-02 audit follow-up","labels":["api","slurm"],"dependencies":[{"issue_id":"parade-eoc","depends_on_id":"parade-jvp","type":"parent-child","created_at":"2026-02-02T08:37:33.955661-05:00","created_by":"bbuchsbaum"}]}
{"id":"parade-fp1","title":"Fix sink checksum semantics (sha256 of written file)","description":"Current sink metadata field 'sha256' is computed as digest(object) before write; not a sha256 file hash and may not match persisted bytes.","acceptance_criteria":"- sha256 computed from file bytes after write (digest(file=..., algo='sha256'))\\n- Sidecar + file_ref metadata agree\\n- Tests updated","status":"closed","priority":0,"issue_type":"bug","owner":"brad.buchsbaum@gmail.com","created_at":"2026-02-02T07:59:24.927797-05:00","created_by":"bbuchsbaum","updated_at":"2026-02-02T09:35:46.697486-05:00","closed_at":"2026-02-02T09:35:46.697486-05:00","close_reason":"Fixed/validated as part of 2026-02 audit follow-up","labels":["data-integrity","sink"],"dependencies":[{"issue_id":"parade-fp1","depends_on_id":"parade-jvp","type":"parent-child","created_at":"2026-02-02T08:37:33.47215-05:00","created_by":"bbuchsbaum"}]}
{"id":"parade-fq9","title":"Fix false-positive 'alias path escapes root' on Windows","description":"normalizePath() may return 8.3 short paths (RUNNER~1) and mixed casing; prefix-based containment check must tolerate this without weakening traversal protections.","status":"closed","priority":2,"issue_type":"bug","owner":"brad.buchsbaum@gmail.com","created_at":"2026-02-03T08:32:47.516339-05:00","created_by":"bbuchsbaum","updated_at":"2026-02-03T08:33:00.495407-05:00","closed_at":"2026-02-03T08:33:00.495407-05:00","close_reason":"Use robust path containment: compare normalized + shortPathName variants on Windows; add Windows-only regression test."}
{"id":"parade-g42","title":"Surface type casting failures instead of silently producing NA","description":"When casting stage results to ptype, vec_cast() errors are swallowed and replaced with typed NA without warning, bypassing stage typing diagnostics.","acceptance_criteria":"- Default behavior warns on cast failures (or errors when configured)\\n- Casting failures include column name and expected type\\n- Tests cover warn/error modes","status":"closed","priority":1,"issue_type":"bug","owner":"brad.buchsbaum@gmail.com","created_at":"2026-02-02T08:08:45.224147-05:00","created_by":"bbuchsbaum","updated_at":"2026-02-02T09:35:46.703696-05:00","closed_at":"2026-02-02T09:35:46.703696-05:00","close_reason":"Fixed/validated as part of 2026-02 audit follow-up","labels":["data-integrity","types"],"dependencies":[{"issue_id":"parade-g42","depends_on_id":"parade-jvp","type":"parent-child","created_at":"2026-02-02T08:37:34.088359-05:00","created_by":"bbuchsbaum"}]}
{"id":"parade-h5b","title":"CI: avoid installing all Suggests on macOS","description":"Installing all Suggests on macOS can force heavy source builds and fail when binaries lag. Install hard deps + test/vignette deps instead.","status":"closed","priority":2,"issue_type":"chore","owner":"brad.buchsbaum@gmail.com","created_at":"2026-02-03T08:33:10.244051-05:00","created_by":"bbuchsbaum","updated_at":"2026-02-03T08:33:19.81793-05:00","closed_at":"2026-02-03T08:33:19.81793-05:00","close_reason":"macOS workflow now installs Depends/Imports/LinkingTo plus testthat/mockery/knitr/rmarkdown instead of dependencies=TRUE."}
{"id":"parade-jvp","title":"2026-02 audit follow-up: close remaining findings","description":"Track remaining items from consolidated audit report + additional diligence findings. Child beads should be closed when fixes + tests land.","status":"closed","priority":0,"issue_type":"epic","owner":"brad.buchsbaum@gmail.com","created_at":"2026-02-02T08:37:33.20175-05:00","created_by":"bbuchsbaum","updated_at":"2026-02-02T17:29:06.605385-05:00","closed_at":"2026-02-02T17:29:06.605385-05:00","close_reason":"All audit follow-up beads completed; remaining items are either fixed, tested, or documented as non-issues."}
{"id":"parade-jvp.1","title":"Make error_policy actionable (local execution) + add tests","description":"Audit finding: error_policy.R untested/incomplete. Implement .error_policy handling for local engine in slurm_call()/slurm_map(), including retry/backoff and continue semantics, and add deterministic unit tests.","status":"closed","priority":0,"issue_type":"bug","owner":"brad.buchsbaum@gmail.com","created_at":"2026-02-02T08:37:46.12988-05:00","created_by":"bbuchsbaum","updated_at":"2026-02-02T09:35:46.708969-05:00","closed_at":"2026-02-02T09:35:46.708969-05:00","close_reason":"Fixed/validated as part of 2026-02 audit follow-up","dependencies":[{"issue_id":"parade-jvp.1","depends_on_id":"parade-jvp","type":"parent-child","created_at":"2026-02-02T08:37:46.130521-05:00","created_by":"bbuchsbaum"}]}
{"id":"parade-jvp.10","title":"Assess resolve_path/path_here alias traversal risk","description":"Audit finding: alias expansion allows '..' to escape roots. Decide whether to add safe_mode for untrusted inputs (without breaking power-user workflows).","status":"closed","priority":3,"issue_type":"task","owner":"brad.buchsbaum@gmail.com","created_at":"2026-02-02T08:37:56.14915-05:00","created_by":"bbuchsbaum","updated_at":"2026-02-02T16:16:12.52362-05:00","closed_at":"2026-02-02T16:16:12.52362-05:00","close_reason":"Hardened alias resolution (path_here/resolve_path): reject absolute relpaths and '..' traversal by default; added escape-hatch option parade.paths.allow_escape=TRUE and tests.","dependencies":[{"issue_id":"parade-jvp.10","depends_on_id":"parade-jvp","type":"parent-child","created_at":"2026-02-02T08:37:56.150109-05:00","created_by":"bbuchsbaum"}]}
{"id":"parade-jvp.11","title":"Jobset_class refactor / reduce god-object","description":"Audit finding: jobset_class.R is large and mixes concerns; consider splitting into status/collect/monitor modules and tightening API.","status":"closed","priority":3,"issue_type":"task","owner":"brad.buchsbaum@gmail.com","created_at":"2026-02-02T08:37:56.31496-05:00","created_by":"bbuchsbaum","updated_at":"2026-02-02T17:29:03.020185-05:00","closed_at":"2026-02-02T17:29:03.020185-05:00","close_reason":"Split monolithic jobset_class.R into focused modules (coercion/await/results/filters) without API change.","dependencies":[{"issue_id":"parade-jvp.11","depends_on_id":"parade-jvp","type":"parent-child","created_at":"2026-02-02T08:37:56.315829-05:00","created_by":"bbuchsbaum"}]}
{"id":"parade-jvp.12","title":"Add unit tests for wave/concurrency flow control","description":"Audit gap: waves.R has critical untested logic. Add deterministic tests for apply_waves()/apply_concurrency_limit() behaviors (submission order, max in-flight, and progress off) without requiring SLURM.","status":"closed","priority":2,"issue_type":"task","owner":"brad.buchsbaum@gmail.com","created_at":"2026-02-02T09:51:19.023764-05:00","created_by":"bbuchsbaum","updated_at":"2026-02-02T10:21:52.543572-05:00","closed_at":"2026-02-02T10:21:52.543572-05:00","close_reason":"Added wave/concurrency unit tests; fixed S3 method registration; devtools::test passes.","dependencies":[{"issue_id":"parade-jvp.12","depends_on_id":"parade-jvp","type":"parent-child","created_at":"2026-02-02T09:51:19.025169-05:00","created_by":"bbuchsbaum"}]}
{"id":"parade-jvp.13","title":"Add unit tests for deferred local backend","description":"Audit gap: deferred.R untested. Add tests for submit()/deferred_collect() in local mode using small grids, with deterministic results and proper cleanup.","status":"closed","priority":2,"issue_type":"task","owner":"brad.buchsbaum@gmail.com","created_at":"2026-02-02T09:51:19.217883-05:00","created_by":"bbuchsbaum","updated_at":"2026-02-02T16:10:47.735284-05:00","closed_at":"2026-02-02T16:10:47.735284-05:00","close_reason":"Added non-mockery deferred local backend tests (results + index modes); improved submit() futures to use seed=TRUE to avoid RNG misuse warnings.","dependencies":[{"issue_id":"parade-jvp.13","depends_on_id":"parade-jvp","type":"parent-child","created_at":"2026-02-02T09:51:19.218744-05:00","created_by":"bbuchsbaum"}]}
{"id":"parade-jvp.14","title":"Add unit tests for jobset_class core behaviors","description":"Audit gap: jobset_class.R large and untested. Add tests for as_jobset(), status(), collect() for local jobs and script jobs (local engine), and ensure packed jobset collect flattening stays correct.","status":"closed","priority":2,"issue_type":"task","owner":"brad.buchsbaum@gmail.com","created_at":"2026-02-02T09:51:19.41405-05:00","created_by":"bbuchsbaum","updated_at":"2026-02-02T16:10:52.316304-05:00","closed_at":"2026-02-02T16:10:52.316304-05:00","close_reason":"Added jobset core unit tests (status/filters/collect and packed flattening) that run without mockery/SLURM.","dependencies":[{"issue_id":"parade-jvp.14","depends_on_id":"parade-jvp","type":"parent-child","created_at":"2026-02-02T09:51:19.415245-05:00","created_by":"bbuchsbaum"}]}
{"id":"parade-jvp.15","title":"Reduce time() masking impact (warn-once or unexport)","description":"Audit: time() masks stats::time. Decide on approach: warn-once on attach/call, prefer res_time in docs/tests, and/or unexport in next minor release.","status":"closed","priority":2,"issue_type":"task","owner":"brad.buchsbaum@gmail.com","created_at":"2026-02-02T09:51:19.594985-05:00","created_by":"bbuchsbaum","updated_at":"2026-02-02T15:59:38.629679-05:00","closed_at":"2026-02-02T15:59:38.629679-05:00","close_reason":"Deprecate resource-profile time(): warn-once + non-masking res_time(); update docs/tests/vignettes to use res_time.","dependencies":[{"issue_id":"parade-jvp.15","depends_on_id":"parade-jvp","type":"parent-child","created_at":"2026-02-02T09:51:19.597361-05:00","created_by":"bbuchsbaum"}]}
{"id":"parade-jvp.16","title":"Standardize error handling across job submission paths","description":"Audit: inconsistent error handling in script_jobs.R and slurm_call.R. Align local vs slurm behavior for errors (stop/continue), ensure error_policy integration is consistent, and document semantics.","status":"closed","priority":2,"issue_type":"task","owner":"brad.buchsbaum@gmail.com","created_at":"2026-02-02T09:51:19.778326-05:00","created_by":"bbuchsbaum","updated_at":"2026-02-02T16:14:12.538784-05:00","closed_at":"2026-02-02T16:14:12.538784-05:00","close_reason":"Standardized local job failure reporting: job_status.parade_local_job now respects script status and parade_job_error; local slurm_call records retry errors; local submit_slurm only stores errors when collect_errors=TRUE; added tests.","dependencies":[{"issue_id":"parade-jvp.16","depends_on_id":"parade-jvp","type":"parent-child","created_at":"2026-02-02T09:51:19.779489-05:00","created_by":"bbuchsbaum"}]}
{"id":"parade-jvp.2","title":"Harden Rscript invocation against option injection","description":"Audit finding: script path/args passed to Rscript could be interpreted as options if they begin with '-'. Ensure system2() calls use an end-of-options delimiter (if supported) and validate/normalize script paths.","status":"closed","priority":1,"issue_type":"bug","owner":"brad.buchsbaum@gmail.com","created_at":"2026-02-02T08:37:46.311774-05:00","created_by":"bbuchsbaum","updated_at":"2026-02-02T09:35:46.710193-05:00","closed_at":"2026-02-02T09:35:46.710193-05:00","close_reason":"Fixed/validated as part of 2026-02 audit follow-up","dependencies":[{"issue_id":"parade-jvp.2","depends_on_id":"parade-jvp","type":"parent-child","created_at":"2026-02-02T08:37:46.312347-05:00","created_by":"bbuchsbaum"}]}
{"id":"parade-jvp.3","title":"Add res_time() and deprecate exported time()","description":"Audit finding: parade exports time() which masks stats::time. Provide res_time() alias, deprecate time(), update docs/examples, and consider eventual unexport.","status":"closed","priority":2,"issue_type":"task","owner":"brad.buchsbaum@gmail.com","created_at":"2026-02-02T08:37:46.489883-05:00","created_by":"bbuchsbaum","updated_at":"2026-02-02T15:59:43.02282-05:00","closed_at":"2026-02-02T15:59:43.02282-05:00","close_reason":"res_time() is now the non-masking primary API; time() emits warn-once deprecation and docs/tests/vignettes use res_time.","dependencies":[{"issue_id":"parade-jvp.3","depends_on_id":"parade-jvp","type":"parent-child","created_at":"2026-02-02T08:37:46.49051-05:00","created_by":"bbuchsbaum"}]}
{"id":"parade-jvp.4","title":"Remove eval() from dist_mirai config evaluation","description":"Audit finding: deferred.R eval(dist) and eval(dist). Replace with safer API (accept function/character/list) and deprecate language objects.","status":"closed","priority":2,"issue_type":"task","owner":"brad.buchsbaum@gmail.com","created_at":"2026-02-02T08:37:46.653826-05:00","created_by":"bbuchsbaum","updated_at":"2026-02-02T09:50:27.120266-05:00","closed_at":"2026-02-02T09:50:27.120266-05:00","close_reason":"Removed eval() for mirai dist url/remote; switched to function/config objects","dependencies":[{"issue_id":"parade-jvp.4","depends_on_id":"parade-jvp","type":"parent-child","created_at":"2026-02-02T08:37:46.654415-05:00","created_by":"bbuchsbaum"}]}
{"id":"parade-jvp.5","title":"Make pred(timeout=) portable (no-fork fallback)","description":"Diligence: pred(timeout=) currently uses mcparallel; add fallback for non-multicore platforms (e.g., Windows) using setTimeLimit or a documented no-timeout behavior.","status":"closed","priority":1,"issue_type":"bug","owner":"brad.buchsbaum@gmail.com","created_at":"2026-02-02T08:37:46.82953-05:00","created_by":"bbuchsbaum","updated_at":"2026-02-02T09:35:46.71125-05:00","closed_at":"2026-02-02T09:35:46.71125-05:00","close_reason":"Fixed/validated as part of 2026-02 audit follow-up","dependencies":[{"issue_id":"parade-jvp.5","depends_on_id":"parade-jvp","type":"parent-child","created_at":"2026-02-02T08:37:46.830066-05:00","created_by":"bbuchsbaum"}]}
{"id":"parade-jvp.6","title":"Make tests skip gracefully when mockery is missing","description":"Diligence: many tests call library(mockery) unconditionally, causing devtools::test() failures when Suggests are not installed. Add skip_if_not_installed('mockery') and add mockery to Suggests.","status":"closed","priority":1,"issue_type":"chore","owner":"brad.buchsbaum@gmail.com","created_at":"2026-02-02T08:37:47.017329-05:00","created_by":"bbuchsbaum","updated_at":"2026-02-02T09:35:46.712299-05:00","closed_at":"2026-02-02T09:35:46.712299-05:00","close_reason":"Fixed/validated as part of 2026-02 audit follow-up","dependencies":[{"issue_id":"parade-jvp.6","depends_on_id":"parade-jvp","type":"parent-child","created_at":"2026-02-02T08:37:47.017892-05:00","created_by":"bbuchsbaum"}]}
{"id":"parade-jvp.7","title":"Reduce memory duplication in slurm_map_packed chunk specs","description":"Audit finding: slurm_map_packed builds chunk_specs with both indices and elements, duplicating .x slices. Consider storing only indices and reading elements in worker to avoid O(n) extra memory.","status":"closed","priority":2,"issue_type":"task","owner":"brad.buchsbaum@gmail.com","created_at":"2026-02-02T08:37:55.605805-05:00","created_by":"bbuchsbaum","updated_at":"2026-02-02T15:59:30.305028-05:00","closed_at":"2026-02-02T15:59:30.305028-05:00","close_reason":"Avoid storing per-chunk element subsets inside chunk_specs and job objects; derive chunk_elements from .x[indices] at submit time.","dependencies":[{"issue_id":"parade-jvp.7","depends_on_id":"parade-jvp","type":"parent-child","created_at":"2026-02-02T08:37:55.606461-05:00","created_by":"bbuchsbaum"}]}
{"id":"parade-jvp.8","title":"Review deferred backend readRDS hot spots","description":"Audit finding: deferred.R reads flow/chunks RDS for each chunk run. Confirm if acceptable; consider caching or passing objects directly for local backend.","status":"closed","priority":3,"issue_type":"task","owner":"brad.buchsbaum@gmail.com","created_at":"2026-02-02T08:37:55.782625-05:00","created_by":"bbuchsbaum","updated_at":"2026-02-02T17:28:58.099677-05:00","closed_at":"2026-02-02T17:28:58.099677-05:00","close_reason":"Added per-process RDS cache for deferred chunk execution to avoid repeated readRDS of flow/chunks across chunks.","dependencies":[{"issue_id":"parade-jvp.8","depends_on_id":"parade-jvp","type":"parent-child","created_at":"2026-02-02T08:37:55.78943-05:00","created_by":"bbuchsbaum"}]}
{"id":"parade-jvp.9","title":"Evaluate hash computation in grid for large params","description":"Audit finding: grid.R uses digest repeatedly; benchmark and optimize if needed (vectorized hashing / memoize).","status":"closed","priority":3,"issue_type":"task","owner":"brad.buchsbaum@gmail.com","created_at":"2026-02-02T08:37:55.95672-05:00","created_by":"bbuchsbaum","updated_at":"2026-02-02T17:28:54.559209-05:00","closed_at":"2026-02-02T17:28:54.559209-05:00","close_reason":"Optimized grid hashing (stable key + digest) and added tests; no further hotspot observed.","dependencies":[{"issue_id":"parade-jvp.9","depends_on_id":"parade-jvp","type":"parent-child","created_at":"2026-02-02T08:37:55.958422-05:00","created_by":"bbuchsbaum"}]}
{"id":"parade-kkv","title":"Make atomic writes safe (remove insecure copy fallback)","description":"Atomic write helpers fall back from rename() to copy(), which is not atomic and can be unsafe in shared directories.","acceptance_criteria":"- Atomic writes either succeed via rename or fail loudly (or gated fallback via option)\\n- Applies to .write_atomic_rds and .write_atomic_generic\\n- Tests cover failure modes where feasible","status":"closed","priority":0,"issue_type":"bug","owner":"brad.buchsbaum@gmail.com","created_at":"2026-02-02T07:59:27.44967-05:00","created_by":"bbuchsbaum","updated_at":"2026-02-02T09:35:46.698866-05:00","closed_at":"2026-02-02T09:35:46.698866-05:00","close_reason":"Fixed/validated as part of 2026-02 audit follow-up","labels":["data-integrity","sink"],"dependencies":[{"issue_id":"parade-kkv","depends_on_id":"parade-jvp","type":"parent-child","created_at":"2026-02-02T08:37:33.593302-05:00","created_by":"bbuchsbaum"}]}
{"id":"parade-msj","title":"Fix sink_quick example for optional parquet format","description":"Examples must not assume optional sink formats (e.g., parquet/arrow) are installed; guard with has_sink_format() or requireNamespace().","status":"closed","priority":2,"issue_type":"bug","owner":"brad.buchsbaum@gmail.com","created_at":"2026-02-03T08:55:51.78429-05:00","created_by":"bbuchsbaum","updated_at":"2026-02-03T08:56:02.110115-05:00","closed_at":"2026-02-03T08:56:02.110115-05:00","close_reason":"Guard parquet example with has_sink_format(); preinstall pkgload from source on macOS CI."}
{"id":"parade-n91","title":"CI(macOS): avoid pak lockfile binary 404s","description":"macOS runners (R release) can hit pak lockfile_install failures when CRAN binaries lag (e.g., pkgload binary 404 for macOS/R 4.5). Switch macOS dependency install to remotes::install_deps() so missing binaries fall back to source.","acceptance_criteria":"- macOS R-CMD-check installs dependencies successfully\\n- Workflow remains unchanged for other OSes","status":"closed","priority":0,"issue_type":"bug","owner":"brad.buchsbaum@gmail.com","created_at":"2026-02-03T08:10:27.507481-05:00","created_by":"bbuchsbaum","updated_at":"2026-02-03T08:10:36.700912-05:00","closed_at":"2026-02-03T08:10:36.700912-05:00","close_reason":"Updated .github/workflows/check.yaml: use remotes-based installs on macos-latest to avoid pak binary 404s.","labels":["ci","deps","macos"]}
{"id":"parade-ndr","title":"Docs: prevent SLURM examples from running without SLURM","description":"R CMD check runs \\donttest examples under --as-cran. Several SLURM-only examples (slurm_call/slurm_pmap/progress/on_error) ran and called batchtools, which tried to run squeue and failed with exit 127. Guard these blocks with Sys.which('squeue') checks (or convert to \\dontrun).","status":"closed","priority":1,"issue_type":"bug","owner":"brad.buchsbaum@gmail.com","created_at":"2026-02-02T22:11:56.226035-05:00","created_by":"bbuchsbaum","updated_at":"2026-02-03T08:03:44.667036-05:00","closed_at":"2026-02-03T08:03:44.667036-05:00","close_reason":"Guarded donttest SLURM examples + fixed open_logs example and vignette headers; CI no longer executes SLURM commands on non-SLURM runners.","labels":["ci","docs"]}
{"id":"parade-odi","title":"Docs: add HPC quickstart intro to parade-paths vignette","description":"Add an introductory section to vignettes/parade-paths.Rmd covering HPC onboarding: profile=hpc on login nodes, PARADE_SCRATCH, parade_doctor/paths_validate, and SLURM_TMPDIR caveat.","acceptance_criteria":"- Vignette includes a short HPC quickstart section with recommended one-liner\n- Explains SLURM_TMPDIR (node-local) caveat and points to PARADE_SCRATCH","status":"closed","priority":2,"issue_type":"task","owner":"brad.buchsbaum@gmail.com","created_at":"2026-02-02T18:08:32.125077-05:00","created_by":"bbuchsbaum","updated_at":"2026-02-02T18:08:48.721111-05:00","closed_at":"2026-02-02T18:08:48.721111-05:00","close_reason":"Added HPC quickstart intro to parade-paths vignette (profile=hpc, PARADE_SCRATCH, parade_doctor, SLURM_TMPDIR caveat)."}
{"id":"parade-sq5","title":"Remove duplicate scaffold_batch_template definitions","description":"scaffold_batch_template() is defined/exported twice (R/scaffold_job.R and R/templates.R), causing duplicated Rd usage and ambiguous behavior.","acceptance_criteria":"- Single canonical scaffold_batch_template\\n- Roxygen output no longer duplicates usage\\n- Tests/docs updated","status":"closed","priority":2,"issue_type":"chore","owner":"brad.buchsbaum@gmail.com","created_at":"2026-02-02T07:59:35.199872-05:00","created_by":"bbuchsbaum","updated_at":"2026-02-02T09:35:46.706141-05:00","closed_at":"2026-02-02T09:35:46.706141-05:00","close_reason":"Fixed/validated as part of 2026-02 audit follow-up","labels":["api","docs"],"dependencies":[{"issue_id":"parade-sq5","depends_on_id":"parade-jvp","type":"parent-child","created_at":"2026-02-02T08:37:34.352998-05:00","created_by":"bbuchsbaum"}]}
{"id":"parade-vqw","title":"Add timeout support for pred() validators","description":"Predicate-based type checks can hang; add optional timeout to pred() and enforce with base setTimeLimit.","acceptance_criteria":"- pred(timeout=) supported\\n- Timeout enforced in .parade_check_type.parade_ptype_pred\\n- Tests verify long-running predicate fails fast","status":"closed","priority":2,"issue_type":"feature","owner":"brad.buchsbaum@gmail.com","created_at":"2026-02-02T07:59:30.819453-05:00","created_by":"bbuchsbaum","updated_at":"2026-02-02T09:35:46.707355-05:00","closed_at":"2026-02-02T09:35:46.707355-05:00","close_reason":"Fixed/validated as part of 2026-02 audit follow-up","labels":["robustness","types"],"dependencies":[{"issue_id":"parade-vqw","depends_on_id":"parade-jvp","type":"parent-child","created_at":"2026-02-02T08:37:34.481249-05:00","created_by":"bbuchsbaum"}]}
{"id":"parade-wr4","title":"Prevent path traversal in sink templates","description":"sink_spec() and sink_quick() allow glue templates to produce paths like '../..' or absolute paths, escaping the base dir.","acceptance_criteria":"- Template-expanded paths are constrained under base directory\\n- Absolute paths from template are rejected by default\\n- Tests cover traversal attempts","status":"closed","priority":0,"issue_type":"bug","owner":"brad.buchsbaum@gmail.com","created_at":"2026-02-02T07:59:22.390888-05:00","created_by":"bbuchsbaum","updated_at":"2026-02-02T09:35:46.700115-05:00","closed_at":"2026-02-02T09:35:46.700115-05:00","close_reason":"Fixed/validated as part of 2026-02 audit follow-up","labels":["security","sink"],"dependencies":[{"issue_id":"parade-wr4","depends_on_id":"parade-jvp","type":"parent-child","created_at":"2026-02-02T08:37:33.71125-05:00","created_by":"bbuchsbaum"}]}
{"id":"parade-y2y","title":"CI: unblock pak lockfile by migrating qs -\u003e qs2","description":"GitHub Actions (R-CMD-check + pkgdown) fails during r-lib/actions/setup-r-dependencies@v2 because pak cannot resolve Suggests: qs from the current RSPM snapshot (Ubuntu noble). Replace optional sink serialization support to prefer qs2 (Suggests: qs2), keep legacy qs support only when installed, and update docs/tests accordingly.","acceptance_criteria":"- DESCRIPTION Suggests uses qs2 (not qs)\\n- Sink registry registers qs2 format when available\\n- Vignettes/tests updated to qs2 and remain runnable\\n- R-CMD-check + pkgdown workflows pass","status":"closed","priority":1,"issue_type":"bug","owner":"brad.buchsbaum@gmail.com","created_at":"2026-02-02T21:26:48.955614-05:00","created_by":"bbuchsbaum","updated_at":"2026-02-03T08:03:55.19289-05:00","closed_at":"2026-02-03T08:03:55.19289-05:00","close_reason":"Migrated serialization vignette/docs to qs2 and removed qs dependency from DESCRIPTION; CI lockfile no longer tries to resolve qs.","labels":["ci","deps"]}
{"id":"parade-z0v","title":"paths_export(): generate PARADE_* shell exports","description":"Add paths_export() to generate bash/sh export lines (PARADE_PROJECT/SCRATCH/DATA/etc.) to paste into SLURM templates and scripts.","acceptance_criteria":"- paths_export() returns export lines for configured aliases\\n- Docs mention how to use it\\n- Unit tests cover output format","status":"closed","priority":1,"issue_type":"task","owner":"brad.buchsbaum@gmail.com","created_at":"2026-02-03T08:03:08.656227-05:00","created_by":"bbuchsbaum","updated_at":"2026-02-03T08:03:28.464541-05:00","closed_at":"2026-02-03T08:03:28.464541-05:00","close_reason":"Added paths_export(), documented in vignettes, and added tests.","labels":["ergonomics","hpc","paths"]}
