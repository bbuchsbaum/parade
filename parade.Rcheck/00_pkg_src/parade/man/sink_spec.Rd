% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/sink.R
\name{sink_spec}
\alias{sink_spec}
\title{Create a sink specification for artifact persistence}
\usage{
sink_spec(
  fields,
  dir,
  template = NULL,
  format = "rds",
  formats = NULL,
  writer = NULL,
  reader = NULL,
  overwrite = c("skip", "overwrite", "error"),
  checksum = TRUE,
  sidecar = c("json", "none"),
  compress = "gzip",
  autoload = TRUE
)
}
\arguments{
\item{fields}{Character vector of field names to persist}

\item{dir}{Base directory or function for artifact storage}

\item{template}{Optional glue template for file path generation}

\item{format}{File format string or list of per-field formats}

\item{formats}{Optional named list of per-field format specifications}

\item{writer}{Optional custom writer function}

\item{reader}{Function to read persisted files}

\item{overwrite}{Overwrite policy: "skip", "overwrite", or "error"}

\item{checksum}{Whether to compute SHA256 checksums}

\item{sidecar}{Sidecar metadata format: "json" or "none"}

\item{compress}{Compression method for RDS files}

\item{autoload}{Whether to automatically load artifacts}
}
\value{
A \code{parade_sink} specification object
}
\description{
Defines how stage outputs should be persisted to disk, with configurable
directory structure, file formats, and metadata handling.
}
\examples{
sink_spec("result", dir = "artifacts://results")
sink_spec(c("model", "metrics"), dir = "/tmp/output", compress = "xz")

# Using different formats per field
sink_spec(c("data", "model"), dir = "output",
  formats = list(data = "csv", model = "rds"))
}
