% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/completion_manifest.R
\name{manifest_adopt}
\alias{manifest_adopt}
\title{Migrate manifest entries to include new parameters}
\usage{
manifest_adopt(stage_id, new_params, dry_run = FALSE, config_dir = NULL)
}
\arguments{
\item{stage_id}{Character stage identifier.}

\item{new_params}{Named list of new parameter names and their values
(e.g., \code{list(cpca = FALSE)}).}

\item{dry_run}{Logical; if \code{TRUE}, returns a preview of changes
without writing.}

\item{config_dir}{Config directory (defaults to \code{paths_get()$config}).}
}
\value{
A tibble summarising adopted entries (invisibly, unless
\code{dry_run = TRUE}).
}
\description{
When a new parameter is added to the grid, existing manifest entries
lack that column. \code{manifest_adopt} finds entries for a stage whose
params are a strict subset of the current schema and appends the new
parameter values, writing updated entries so that exact-match lookup
succeeds on subsequent runs.
}
\examples{
\dontrun{
# After adding a new "cpca" parameter to the grid:
manifest_adopt("fit", new_params = list(cpca = FALSE))

# Preview without writing
manifest_adopt("fit", new_params = list(cpca = FALSE), dry_run = TRUE)
}
}
