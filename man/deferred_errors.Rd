% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/pipeline_log.R
\name{deferred_errors}
\alias{deferred_errors}
\title{Comprehensive error detection for a deferred pipeline}
\usage{
deferred_errors(d)
}
\arguments{
\item{d}{A \code{parade_deferred} object}
}
\value{
A tibble with columns: \code{chunk_id}, \code{row}, \code{stage}, \code{error_msg},
\code{source} (one of "index", "slurm", "missing"), and \code{context}
}
\description{
Combines three error sources into a single tibble:
\enumerate{
\item \strong{Index errors}: Rows where \code{.diag} has \code{ok=FALSE}
\item \strong{SLURM crashes}: Jobs in FAILED/CANCELLED/TIMEOUT state
\item \strong{Missing indices}: SLURM job COMPLETED but no index file written
}
}
\examples{
\donttest{
grid <- data.frame(x = 1:4, group = rep(c("A", "B"), 2))
fl <- flow(grid) |>
  stage("calc", function(x) x^2, schema = returns(result = dbl())) |>
  distribute(dist_local(by = "group"))
d <- submit(fl)
deferred_await(d, timeout = 60)
errs <- deferred_errors(d)
}
}
