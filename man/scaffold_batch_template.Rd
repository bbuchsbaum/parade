% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/templates.R
\name{scaffold_batch_template}
\alias{scaffold_batch_template}
\title{Create a batch job template file}
\usage{
scaffold_batch_template(
  system = c("slurm"),
  out = file.path("batchtools", paste0("parade-", match.arg(system), ".tmpl")),
  modules = "r",
  exports = c(PARADE_SCRATCH =
    "${PARADE_SCRATCH:-${SCRATCH:-${SCRATCHDIR:-${PSCRATCH:-${WORK:-${SLURM_TMPDIR:-${TMPDIR:-/tmp}}}}}}}",
    OMP_NUM_THREADS = "1", MKL_NUM_THREADS = "1", OPENBLAS_NUM_THREADS = "1"),
  preamble = character(),
  overwrite = FALSE
)
}
\arguments{
\item{system}{Character string specifying the batch system. Currently only "slurm" is supported.}

\item{out}{Path where the template file should be written. Defaults to "batchtools/parade-slurm.tmpl".}

\item{modules}{Character vector of modules to load. Default is "r".}

\item{exports}{Named character vector of environment variables to export in the job script.}

\item{preamble}{Character vector of additional shell commands to include in the template preamble.}

\item{overwrite}{Logical indicating whether to overwrite an existing template file.}
}
\value{
Invisibly returns the normalized path to the created template file.
}
\description{
Generates a template file for batch job submission systems like SLURM.
The template is used by batchtools to submit jobs to the cluster.
}
\examples{
\donttest{
# Create a basic SLURM template
template_path <- scaffold_batch_template(
  system = "slurm",
  out = tempfile(fileext = ".tmpl")
)

# Create a template with custom modules and exports
template_path <- scaffold_batch_template(
  system = "slurm",
  modules = c("R/4.3.0", "gcc/11.2"),
  exports = c(CUSTOM_VAR = "value"),
  out = tempfile(fileext = ".tmpl")
)
}
}
