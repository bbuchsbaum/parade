% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/slurm_cluster.R
\name{slurm_map_cluster}
\alias{slurm_map_cluster}
\title{Map over tasks as if you had one big machine (best-effort)}
\usage{
slurm_map_cluster(
  .x,
  .f,
  ...,
  nodes,
  cpus_per_node,
  oversubscribe = 2L,
  nodes_per_job = 1L,
  .args = NULL,
  .name_by = "auto",
  .resources = NULL,
  .packages = character(),
  .write_result = NULL,
  .engine = c("slurm", "local"),
  .progress = FALSE,
  .options = NULL,
  .error_policy = NULL,
  .parallel_backend = c("auto", "callr", "multicore", "multisession")
)
}
\arguments{
\item{.x}{Vector/list of tasks.}

\item{.f}{Function or formula to apply.}

\item{...}{Passed to \code{.f}.}

\item{nodes}{Number of nodes you expect SLURM to run concurrently.}

\item{cpus_per_node}{Cores per node.}

\item{oversubscribe}{Jobs per node to queue (helps mitigate stragglers).}

\item{nodes_per_job}{Nodes requested per packed job (default 1).}

\item{.args}{Named list of additional arguments (alternative to ...)}

\item{.name_by}{Naming strategy: "auto", "index", "stem", "digest", or a function}

\item{.resources}{Additional/override SLURM resources (merged with the
full-node defaults).}

\item{.packages}{Character vector of packages to load (for functions)}

\item{.write_result}{Path template for saving results (supports macros)}

\item{.engine}{Execution engine: "slurm" (default) or "local"}

\item{.progress}{Show progress bar}

\item{.options}{Flow control options (e.g., wave_policy() or concurrency_limit())}

\item{.error_policy}{Error handling policy for job failures}

\item{.parallel_backend}{Backend for within-node parallelism when \code{.packed = TRUE}.
One of: "callr", "multicore", "multisession", or "auto". Ignored when
\code{.packed = FALSE}. Defaults to "callr" for strong isolation.}
}
\value{
A \code{parade_jobset}.
}
\description{
Convenience wrapper around \code{slurm_map(.packed = TRUE, ...)} that computes a
reasonable \code{.target_jobs} based on the cluster size.
}
\examples{
\dontrun{
results <- slurm_map_cluster(1:10, function(x) x^2,
  nodes = 2, cpus_per_node = 16)
}
}
