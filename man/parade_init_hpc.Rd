% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/init_hpc.R
\name{parade_init_hpc}
\alias{parade_init_hpc}
\title{Initialize parade for HPC use}
\usage{
parade_init_hpc(
  scratch = NULL,
  artifacts = NULL,
  registry = NULL,
  create = TRUE,
  persist = TRUE,
  template = TRUE,
  template_path = "project://batchtools/parade-slurm.tmpl",
  overwrite_template = FALSE,
  slurm_defaults = NULL,
  quiet = FALSE
)
}
\arguments{
\item{scratch}{Optional shared scratch root. If \code{NULL}, parade auto-detects
using \code{PARADE_SCRATCH} / \code{SCRATCH} / scheduler variables.}

\item{artifacts}{Optional artifacts root. Default is \code{file.path(scratch, "parade-artifacts")}.}

\item{registry}{Optional registry root. Default is \code{file.path(scratch, "parade-registry")}.}

\item{create}{Whether to create missing directories for configured roots.}

\item{persist}{Whether to persist paths/template/defaults to \code{parade.json}.}

\item{template}{Whether to scaffold a SLURM batchtools template file.}

\item{template_path}{Where to write the template (default: \code{"project://batchtools/parade-slurm.tmpl"}).}

\item{overwrite_template}{Whether to overwrite an existing template file.}

\item{slurm_defaults}{Optional named list of defaults for SLURM resources (e.g., \code{list(mem = NA, time = "2h")}).}

\item{quiet}{Whether to suppress messages.}
}
\value{
A list containing the configured \code{paths}, config path (if persisted),
template path (if created), and doctor results.
}
\description{
A one-command setup helper for running parade on HPC clusters. This function:
\itemize{
\item Initializes path aliases in \code{"hpc"} mode (prefer shared scratch over node-local tmp).
\item Optionally creates required directories and runs a quick doctor check.
\item Optionally scaffolds a batchtools SLURM template and persists it to \code{parade.json}.
\item Optionally sets SLURM defaults and persists them to \code{parade.json}.
}
}
\examples{
\donttest{
# Minimal HPC init (best-effort autodetect)
parade_init_hpc(quiet = TRUE, persist = FALSE, template = FALSE, create = FALSE)

# With explicit scratch + a temp template path (safe outside a cluster)
parade_init_hpc(
  scratch = tempdir(),
  persist = FALSE,
  create = FALSE,
  template = TRUE,
  template_path = tempfile(fileext = ".tmpl"),
  overwrite_template = TRUE
)
}
}
